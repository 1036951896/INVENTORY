<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ofertas - StoreHub</title>
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="../css/ecommerce-figma.css">
  <link rel="icon" href="../assets/logo.svg" type="image/svg+xml">
  
  <!-- Configurar BACKEND_URL globalmente -->
  <script>
    window.BACKEND_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
      ? 'http://localhost:3000'
      : 'https://storehub-api-74yl.onrender.com';
  </script>
  <style>
    .badge-descuento {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #386273;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-weight: bold;
      font-size: 14px;
      z-index: 10;
      box-shadow: 0 2px 8px rgba(56, 98, 115, 0.3);
    }

    .tarjeta-producto {
      position: relative;
    }

    .precio-original {
      text-decoration: line-through;
      color: #999;
      font-size: 14px;
    }

    .precio-oferta {
      color: #386273;
      font-weight: bold;
      font-size: 18px;
      margin-top: 5px;
    }

    .banner-ofertas {
      background: linear-gradient(135deg, #386273 0%, #4a7a96 100%);
      color: white;
      padding: 40px 20px;
      text-align: center;
      margin-bottom: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(56, 98, 115, 0.15);
    }

    .banner-ofertas h2 {
      margin: 0 0 10px 0;
      font-size: 32px;
      letter-spacing: -0.5px;
      color: #ffffff;
      font-weight: 700;
    }

    .banner-ofertas p {
      margin: 0;
      font-size: 16px;
      opacity: 1;
      color: #ffffff;
    }

    .filtro-ofertas {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .filtro-ofertas button {
      padding: 8px 16px;
      border: 2px solid #ddd;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 14px;
      color: #666;
    }

    .filtro-ofertas button.activo {
      background: #386273;
      color: white;
      border-color: #386273;
      box-shadow: 0 2px 8px rgba(56, 98, 115, 0.2);
    }

    .filtro-ofertas button:hover {
      border-color: #386273;
      color: #386273;
    }

    .sin-ofertas {
      text-align: center;
      padding: 60px 20px;
      color: #666;
      background: #f9f9fb;
      border-radius: 8px;
      border: 2px dashed #ddd;
    }

    .sin-ofertas svg {
      width: 80px;
      height: 80px;
      opacity: 0.3;
      margin-bottom: 20px;
      stroke: #386273;
    }

    .sin-ofertas h3 {
      font-size: 20px;
      margin-bottom: 10px;
      color: #386273;
    }

    .sin-ofertas p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }

    .contador-ofertas {
      color: #030213;
      font-size: 14px;
      margin-bottom: 20px;
      padding: 12px;
      background: #f9f9fb;
      border-radius: 6px;
      display: inline-block;
      border-left: 4px solid #386273;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <!-- ENCABEZADO -->
  <header>
    <div class="contenedor">
      <div class="encabezado-contenedor">
        <!-- LOGO -->
        <a href="index.html" class="logo">
          <img src="../assets/logo.svg" alt="Logo StoreHub" class="logo-img">
          <span class="logo-text">StoreHub</span>
        </a>

        <!-- BARRA DE BÃšSQUEDA MODERNA -->
        <div class="barra-busqueda-contenedor">
          <div class="barra-busqueda">
            <svg class="icono-buscar-fijo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input type="text" id="buscar" placeholder="Buscar en ofertas..." class="input-buscar">
          </div>
        </div>

        <!-- MENU SUPERIOR -->
        <div class="menu-superior">
          <!-- CARRITO -->
          <div class="icono-carrito" id="btn-carrito" title="Mi carrito">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span class="contador-carrito" id="contador">0</span>
          </div>

          <!-- USUARIO -->
          <div id="menu-usuario">
            <button class="btn-icono" onclick="window.location.href='login.html'" title="Iniciar sesiÃ³n">
              <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
              </svg>
            </button>
          </div>

          <!-- VOLVER A INICIO -->
          <a href="index.html" class="btn-icono" title="Volver al catÃ¡logo">
            <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
              <path d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main>
    <!-- BANNER DE OFERTAS -->
    <section class="banner-ofertas">
      <h2>ðŸŽ‰ Â¡OFERTAS ESPECIALES! ðŸŽ‰</h2>
      <p>Aprovecha nuestros descuentos limitados en productos seleccionados</p>
    </section>

    <!-- CONTENEDOR PRINCIPAL -->
    <section style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
      <!-- CONTADOR DE OFERTAS -->
      <div class="contador-ofertas">
        Total de ofertas: <span id="total-ofertas">0</span>
      </div>

      <!-- FILTROS -->
      <div class="filtro-ofertas" id="filtros-ofertas"></div>

      <!-- GRID DE PRODUCTOS EN OFERTA -->
      <div class="productos-grid" id="productos-grid">
        <!-- Los productos se cargarÃ¡n aquÃ­ -->
      </div>

      <!-- SI NO HAY OFERTAS -->
      <div class="sin-ofertas" id="sin-ofertas" style="display:none;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M12 6v6m0 4v.01"/>
        </svg>
        <h3>No hay ofertas disponibles</h3>
        <p>Vuelve pronto para ver nuestras prÃ³ximas promociones</p>
        <a href="index.html" class="btn btn-principal" style="margin-top: 20px; display: inline-block;">
          Ver catÃ¡logo completo
        </a>
      </div>
    </section>
  </main>

  <!-- CARRITO LATERAL -->
  <div class="carrito-panel" id="carrito-panel">
    <div class="carrito-encabezado">
      <h3>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        Mi Carrito
      </h3>
      <button class="carrito-cerrar" id="cerrar-carrito">âœ•</button>
    </div>

    <div class="carrito-contenido" id="carrito-contenido">
      <div class="carrito-vacio">
        <p>Tu carrito estÃ¡ vacÃ­o</p>
      </div>
    </div>

    <div class="carrito-pie">
      <div class="carrito-total">
        <span>Total:</span>
        <span id="total-carrito">$0.00</span>
      </div>
      <button class="btn btn-principal" id="finalizar-pedido" disabled>Finalizar Pedido</button>
    </div>
  </div>

  <!-- BOTÃ“N FLOTANTE DE CHAT -->
  <a href="https://wa.me/573155508228" target="_blank" class="boton-whatsapp" title="Chatea con nosotros en WhatsApp">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      <circle cx="8" cy="10" r="1.5" fill="currentColor" opacity="0.7"></circle>
      <circle cx="12" cy="10" r="1.5" fill="currentColor" opacity="0.7"></circle>
      <circle cx="16" cy="10" r="1.5" fill="currentColor" opacity="0.7"></circle>
    </svg>
    <span class="tooltip-whatsapp">Chatea con nosotros</span>
  </a>

  <!-- SCRIPTS -->
  <script src="../js/app.js"></script>
  <script src="../js/ofertas.js"></script>
</body>
</html>
